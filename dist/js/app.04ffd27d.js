(function(){"use strict";var t={4640:function(t,e,s){var o=s(9242),r=s(3396),a=s(7139);const n={id:"app"},i={class:"navbar is-dark"},l={class:"navbar-brand"},c=(0,r._)("strong",null,"ShipShop",-1),u=(0,r._)("span",{"aria-hidden":"true"},null,-1),d=(0,r._)("span",{"aria-hidden":"true"},null,-1),m=(0,r._)("span",{"aria-hidden":"true"},null,-1),p=[u,d,m],h={class:"navbar-start"},g={class:"navbar-item"},_={method:"get",action:"/#/search"},v={class:"field has-addons"},f=(0,r._)("div",{class:"control"},[(0,r._)("input",{type:"text",class:"input is-normal",placeholder:"What are you lookning for",name:"q"})],-1),y={class:"control"},w={class:"button is-success"},b={class:"icon"},k={class:"navbar-end"},S={class:"navbar-item"},q={class:"buttons"},C={class:"icon"},T=(0,r._)("div",{class:"lds-dual-ring"},null,-1),I=[T],L={class:"section"},P=(0,r._)("footer",{class:"footer"},[(0,r._)("p",{class:"has-text-centered"},"Copyright (c) 2023")],-1);function z(t,e,s,o,u,d){const m=(0,r.up)("router-link"),T=(0,r.up)("font-awesome-icon"),z=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("nav",i,[(0,r._)("div",l,[(0,r.Wm)(m,{to:"/",class:"navbar-item"},{default:(0,r.w5)((()=>[c])),_:1}),(0,r._)("a",{class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar-menu",onClick:e[0]||(e[0]=t=>u.showMobileMenu=!u.showMobileMenu)},p)]),(0,r._)("div",{class:(0,a.C_)(["navbar-menu",{"is-active":u.showMobileMenu}]),id:"navbar-menu"},[(0,r._)("div",h,[(0,r._)("div",g,[(0,r._)("form",_,[(0,r._)("div",v,[f,(0,r._)("div",y,[(0,r._)("button",w,[(0,r._)("span",b,[(0,r.Wm)(T,{icon:"fa-solid fa-search"})])])])])])])]),(0,r._)("div",k,[(0,r.Wm)(m,{to:"/phone",class:"navbar-item"},{default:(0,r.w5)((()=>[(0,r.Uk)("Phone")])),_:1}),(0,r.Wm)(m,{to:"/computer",class:"navbar-item"},{default:(0,r.w5)((()=>[(0,r.Uk)("Computer")])),_:1}),(0,r.Wm)(m,{to:"/accessory",class:"navbar-item"},{default:(0,r.w5)((()=>[(0,r.Uk)("Accessory")])),_:1}),(0,r._)("div",S,[(0,r._)("div",q,[t.$store.state.isAuthenticated?((0,r.wg)(),(0,r.j4)(m,{key:0,to:"/my-account",class:"button is-light"},{default:(0,r.w5)((()=>[(0,r.Uk)(" My Account ")])),_:1})):((0,r.wg)(),(0,r.j4)(m,{key:1,to:"/log-in",class:"button is-light"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Log In ")])),_:1})),(0,r.Wm)(m,{to:"/cart",class:"button is-success"},{default:(0,r.w5)((()=>[(0,r._)("span",C,[(0,r.Wm)(T,{icon:"fa-solid fa-cart-shopping"})]),(0,r._)("span",null,"Cart ("+(0,a.zw)(d.cartTotalLength)+")",1)])),_:1})])])])],2)]),(0,r._)("div",{class:(0,a.C_)(["is-loading-bar has-text-centered",{"is-loading":t.$store.state.isLoading}])},I,2),(0,r._)("section",L,[(0,r.Wm)(z)]),P])}var O=s(4161),$={name:"App",data(){return{showMobileMenu:!1,cart:{items:[]}}},beforeCreate(){this.$store.commit("initializeStore");const t=this.$store.state.token;O.Z.defaults.headers.common.Authorization=t?"Token "+t:""},mounted(){this.cart=this.$store.state.cart},computed:{cartTotalLength(){let t=0;for(let e=0;e<this.cart.items.length;e++)t+=this.cart.items[e].quantity;return t}}},D=s(89);const U=(0,D.Z)($,[["render",z]]);var x=U,A=s(2483);const Z={class:"home container"},F=(0,r._)("div",{class:"hero-body has-text-centered"},[(0,r._)("p",{class:"title mb-6"}," Welcome to shipshop "),(0,r._)("p",{class:"subtitle"}," Upgrade and switch phone and computer ")],-1),j=[F],N={class:"columns is-multiline"},V=(0,r._)("div",{class:"column is-12"},[(0,r._)("h2",{class:"is-size02 has-text-centered"}," Latest Product ")],-1);function M(t,e,s,o,n,i){const l=(0,r.up)("products-list");return(0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("section",{class:"hero is-medium is-dark mb-6",style:(0,a.j5)({"background-image":"url(https://www.mendix.com/wp-content/uploads/iStock-1309800161-scaled.jpg)","background-repeat":"no-repeat","background-size":"contain","background-attachment":"fixed","background-position":"center"})},j,4),(0,r._)("div",N,[V,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.latestProducts,(t=>((0,r.wg)(),(0,r.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}const R={class:"column is-3"},Y={class:"box"},H={class:"image mb-4"},W=["src"],E={class:"is-size-4"},K={class:"is-size-6 has-text-grey"};function J(t,e,s,o,n,i){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",R,[(0,r._)("div",Y,[(0,r._)("figure",H,[(0,r._)("img",{src:s.product.get_thumbnail},null,8,W)]),(0,r._)("h3",E,(0,a.zw)(s.product.name),1),(0,r._)("p",K,"Rwf"+(0,a.zw)(s.product.price),1),(0,r.Wm)(l,{to:s.product.get_absolute_url,class:"button is-dark mt-4"},{default:(0,r.w5)((()=>[(0,r.Uk)("View Detail")])),_:1},8,["to"])])])}var Q={name:"ProductList",props:{product:Object}};const B=(0,D.Z)(Q,[["render",J],["__scopeId","data-v-72c86cf6"]]);var G=B,X={name:"HomeView",components:{ProductsList:G},data(){return{latestProducts:[]}},mounted(){this.getLatestProducts()},methods:{getLatestProducts(){O.Z.get("/api/v1/latest-products").then((t=>{this.latestProducts=t.data})).catch((t=>{console.log("ERROR DURING REQUEST"),console.log(t)}))}}};const tt=(0,D.Z)(X,[["render",M]]);var et=tt;const st={class:"page-product"},ot={class:"columns is-multiple"},rt={class:"column is-9"},at={class:"image mb-6"},nt=["src"],it={class:"title"},lt={class:"column is-3"},ct=(0,r._)("h2",{class:"subtitle"},"Information",-1),ut=(0,r._)("strong",null,"Price: ",-1),dt={class:"field has-addons mt-6"},mt={class:"control"},pt={class:"control"};function ht(t,e,s,n,i,l){return(0,r.wg)(),(0,r.iD)("div",st,[(0,r._)("div",ot,[(0,r._)("div",rt,[(0,r._)("figure",at,[(0,r._)("img",{src:i.product.get_image,alt:""},null,8,nt)]),(0,r._)("h1",it,(0,a.zw)(i.product.name),1),(0,r._)("p",null,(0,a.zw)(i.product.description),1)]),(0,r._)("div",lt,[ct,(0,r._)("p",null,[ut,(0,r.Uk)("Rwf"+(0,a.zw)(i.product.price),1)]),(0,r._)("div",dt,[(0,r._)("div",mt,[(0,r.wy)((0,r._)("input",{type:"number",class:"input",min:"1","onUpdate:modelValue":e[0]||(e[0]=t=>i.quantity=t)},null,512),[[o.nr,i.quantity]])]),(0,r._)("div",pt,[(0,r._)("a",{class:"button is-dark",onClick:e[1]||(e[1]=(...t)=>l.addToCart&&l.addToCart(...t))},"Add to cart")])])])])])}var gt=s(5597),_t={name:"ProductVue",data(){return{product:{},quantity:1}},mounted(){this.getProduct()},methods:{async getProduct(){this.$store.commit("setIsLoading",!0);const t=this.$route.params.category_slug,e=this.$route.params.product_slug;await O.Z.get(`api/v1/products/${t}/${e}`).then((t=>{this.product=t.data,document.title="ShipShop:"+this.product.name})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)},addToCart(){(isNaN(this.quantity)||this.quantity<1)&&(this.quantity=1);const t={product:this.product,quantity:this.quantity};this.$store.commit("addToCart",t),(0,gt.toast)({message:"The product was added to the cart",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}}};const vt=(0,D.Z)(_t,[["render",ht]]);var ft=vt;const yt={class:"page-category"},wt={class:"columns is-multiline"},bt={class:"column is-12"},kt={class:"is-size-2 has-text-centered"};function St(t,e,s,o,n,i){const l=(0,r.up)("products-list");return(0,r.wg)(),(0,r.iD)("div",yt,[(0,r._)("div",wt,[(0,r._)("div",bt,[(0,r._)("h2",kt,(0,a.zw)(n.category.name),1)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.category.products,(t=>((0,r.wg)(),(0,r.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}var qt={name:"CategoryView",components:{ProductsList:G},data(){return{category:{products:[]}}},mounted(){this.getCategory()},watch:{$route(t,e){"category"===t.name&&this.getCategory()}},methods:{async getCategory(){const t=this.$route.params.category_slug;this.$store.commit("setIsLoading",!0),await(0,O.Z)(`/api/v1/products/${t}`).then((t=>{this.category=t.data,this.category=this.category[0],document.title="ShipShop: "+this.category.name})).catch((t=>{console.log(t),(0,gt.toast)({message:"Something went wrong please try again",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})})),this.$store.commit("setIsLoading",!1)}}};const Ct=(0,D.Z)(qt,[["render",St]]);var Tt=Ct;const It={class:"page-search"},Lt={class:"columns is-multiline"},Pt={class:"column is-12"},zt=(0,r._)("h1",{class:"title"}," Search ",-1),Ot={class:"is-size-5 has-text-grey"},$t={key:0,class:"is-size-4 hast-text-black"};function Dt(t,e,s,o,n,i){const l=(0,r.up)("products-list");return(0,r.wg)(),(0,r.iD)("div",It,[(0,r._)("div",Lt,[(0,r._)("div",Pt,[zt,(0,r._)("h2",Ot,' Search Term : "'+(0,a.zw)(n.query)+'" ',1),0===n.products.length?((0,r.wg)(),(0,r.iD)("h3",$t," No Result For "+(0,a.zw)(n.query),1)):(0,r.kq)("",!0)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.products,(t=>((0,r.wg)(),(0,r.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}var Ut={name:"SearchView",components:{ProductsList:G},data(){return{products:[],query:""}},mounted(){document.title="ShipShop: Search ";let t=window.location.search.substring(1),e=new URLSearchParams(t);console.log(e),e.get("q")&&(console.log(e.get("q")),this.query=e.get("q"),this.perfomrSearch())},methods:{async perfomrSearch(){this.$store.commit("setIsLoading",!0),await O.Z.post("/api/v1/products/search/",{query:this.query}).then((t=>{this.products=t.data})).catch((t=>{console.log(t),(0,gt.toast)({message:"An Error Occured !",type:"error",position:"bottom-right",duration:2e3,dismissible:!0,pauseOnHover:!0})})),this.$store.commit("setIsLoading",!1)}}};const xt=(0,D.Z)(Ut,[["render",Dt]]);var At=xt;const Zt={class:"page-cart"},Ft={class:"columns is-multiline"},jt=(0,r._)("div",{class:"column is-12"},[(0,r._)("h1",{class:"title"},"Cart")],-1),Nt={class:"column is-12 box"},Vt={key:0,class:"table is-fullwidth"},Mt=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Product"),(0,r._)("th",null,"Price"),(0,r._)("th",null,"Quantity"),(0,r._)("th",null,"Total"),(0,r._)("th")])],-1),Rt={key:1},Yt={class:"column is-12 box"},Ht=(0,r._)("h2",{class:"subtitle"},"Summary",-1),Wt=(0,r._)("hr",null,null,-1);function Et(t,e,s,o,n,i){const l=(0,r.up)("cart-item"),c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Zt,[(0,r._)("div",Ft,[jt,(0,r._)("div",Nt,[i.cartTotalLength?((0,r.wg)(),(0,r.iD)("table",Vt,[Mt,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.cart.items,(t=>((0,r.wg)(),(0,r.j4)(l,{key:t.product.id,initialItem:t,onRemoveFromCart:i.removeFromCart},null,8,["initialItem","onRemoveFromCart"])))),128))])])):((0,r.wg)(),(0,r.iD)("p",Rt,"You don't have any item in you cart !!!"))]),(0,r._)("div",Yt,[Ht,(0,r._)("strong",null,"Rwf "+(0,a.zw)(i.cartTotalPrice),1),(0,r.Uk)(" ,"+(0,a.zw)(i.cartTotalLength)+" items ",1),Wt,(0,r.Wm)(c,{to:"/cart/checkout",class:"button is-dartk"},{default:(0,r.w5)((()=>[(0,r.Uk)("Checkout")])),_:1})])])])}s(2e3);function Kt(t,e,s,o,n,i){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("tr",null,[(0,r._)("td",null,[(0,r.Wm)(l,{to:n.item.product.get_absolute_url},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(n.item.product.name),1)])),_:1},8,["to"])]),(0,r._)("td",null,"Rwf"+(0,a.zw)(n.item.product.price),1),(0,r._)("td",null,[(0,r._)("a",{onClick:e[0]||(e[0]=t=>i.decrementQuantity(n.item))},"- "),(0,r.Uk)((0,a.zw)(n.item.quantity),1),(0,r._)("a",{onClick:e[1]||(e[1]=t=>i.incrementQuantity(n.item))}," +")]),(0,r._)("td",null,(0,a.zw)(i.getItemTotal())+"Rwf",1),(0,r._)("td",null,[(0,r._)("button",{class:"delete",onClick:e[2]||(e[2]=t=>i.removeFromCart(n.item))})])])}var Jt={name:"CartItem",props:{initialItem:{type:Object,default:{}}},data(){return{item:this.initialItem}},methods:{getItemTotal(){return this.item.quantity*this.item.product.price},decrementQuantity(t){t.quantity-=1,0===t.quantity&&this.$emit("removeFromCart",t),this.updateCart()},incrementQuantity(t){t.quantity+=1,this.updateCart()},updateCart(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart(t){this.$emit("removeFromCart",t),this.updateCart()}}};const Qt=(0,D.Z)(Jt,[["render",Kt]]);var Bt=Qt,Gt={name:"CartView",components:{CartItem:Bt},data(){return{cart:{items:[]}}},mounted(){this.cart=this.$store.state.cart},computed:{cartTotalLength(){return this.cart.items.reduce(((t,e)=>t+e.quantity),0)},cartTotalPrice(){return this.cart.items.reduce(((t,e)=>t+e.product.price*e.quantity),0)}},methods:{removeFromCart(t){this.cart.items=this.cart.items.filter((e=>e.product.id!==t.product.id))}}};const Xt=(0,D.Z)(Gt,[["render",Et]]);var te=Xt;const ee={class:"page-sign-up"},se={class:"columns"},oe={class:"column is-4 is-offset-4"},re=(0,r._)("h1",{class:"title"},"Sign up",-1),ae={class:"field"},ne=(0,r._)("label",{for:""},"UserName",-1),ie={class:"control"},le={class:"fields"},ce=(0,r._)("label",null,"Password",-1),ue={class:"control"},de={class:"fields"},me=(0,r._)("label",null,"Repeat Password",-1),pe={class:"control"},he={key:0,class:"notificatino is-danger"},ge=(0,r._)("div",{class:"field"},[(0,r._)("div",{class:"control"},[(0,r._)("button",{class:"button is-dark mt-3"},"Sign Up")])],-1),_e=(0,r._)("hr",null,null,-1),ve={class:"bd-footer-tsp"};function fe(t,e,s,n,i,l){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",ee,[(0,r._)("div",se,[(0,r._)("div",oe,[re,(0,r._)("form",{onSubmit:e[3]||(e[3]=(0,o.iM)(((...t)=>l.submitForm&&l.submitForm(...t)),["prevent"]))},[(0,r._)("div",ae,[ne,(0,r._)("div",ie,[(0,r.wy)((0,r._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>i.username=t)},null,512),[[o.nr,i.username]])])]),(0,r._)("div",le,[ce,(0,r._)("div",ue,[(0,r.wy)((0,r._)("input",{type:"password",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t)},null,512),[[o.nr,i.password]])])]),(0,r._)("div",de,[me,(0,r._)("div",pe,[(0,r.wy)((0,r._)("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>i.password2=t)},null,512),[[o.nr,i.password2]])])]),i.errors.length?((0,r.wg)(),(0,r.iD)("div",he,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.errors,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t},(0,a.zw)(t),1)))),128))])):(0,r.kq)("",!0),ge,_e,(0,r._)("p",ve,[(0,r.Uk)(" You already have an account "),(0,r.Wm)(c,{to:"/log-in"},{default:(0,r.w5)((()=>[(0,r.Uk)("Log In")])),_:1})])],32)])])])}s(7658);var ye={name:"SignUpView",data(){return{username:"",password:"",password2:"",errors:[]}},methods:{submitForm(){if(this.errors=[],""===this.username&&this.errors.push("The username is missing !"),""===this.password&&this.errors.push("The password is missing !"),this.password!==this.password2&&this.errors.push("Password does not match"),!this.errors.length){const t={username:this.username,password:this.password};O.Z.post("/api/v1/users/",t).then((t=>{(0,gt.toast)({message:"Account created with success!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"}),this.$router.push("/log-in")})).catch((t=>{if(t.response){for(const e in t.response.data)this.errors.push(`${e}: ${t.response.data[e]}`);console.log(JSON.stringify(t.response.data))}else t.message&&(this.errors.push("Something went wrong . Please try again"),console.log(JSON.stringify(t)))}))}}}};const we=(0,D.Z)(ye,[["render",fe]]);var be=we;const ke={class:"page-sign-up"},Se={class:"columns"},qe={class:"column is-4 is-offset-4"},Ce=(0,r._)("h1",{class:"title"},"Log In",-1),Te={class:"field"},Ie=(0,r._)("label",{for:""},"UserName",-1),Le={class:"control"},Pe={class:"fields"},ze=(0,r._)("label",null,"Password",-1),Oe={class:"control"},$e={key:0,class:"notificatino is-danger"},De=(0,r._)("div",{class:"field"},[(0,r._)("div",{class:"control"},[(0,r._)("button",{class:"button is-dark mt-3"},"Log In")])],-1),Ue=(0,r._)("hr",null,null,-1),xe={class:"bd-footer-tsp"};function Ae(t,e,s,n,i,l){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",ke,[(0,r._)("div",Se,[(0,r._)("div",qe,[Ce,(0,r._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)(((...t)=>l.submitForm&&l.submitForm(...t)),["prevent"]))},[(0,r._)("div",Te,[Ie,(0,r._)("div",Le,[(0,r.wy)((0,r._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>i.username=t)},null,512),[[o.nr,i.username]])])]),(0,r._)("div",Pe,[ze,(0,r._)("div",Oe,[(0,r.wy)((0,r._)("input",{type:"password",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t)},null,512),[[o.nr,i.password]])])]),i.errors.length?((0,r.wg)(),(0,r.iD)("div",$e,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.errors,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t},(0,a.zw)(t),1)))),128))])):(0,r.kq)("",!0),De,Ue,(0,r._)("p",xe,[(0,r.Uk)(" You don't have an account "),(0,r.Wm)(c,{to:"/sign-up"},{default:(0,r.w5)((()=>[(0,r.Uk)("Sign Up")])),_:1})])],32)])])])}var Ze={name:"LogInView",data(){return{username:"",password:"",errors:[]}},mounted(){document.title="ShipShop: Log In"},methods:{async submitForm(){console.log("form submission"),O.Z.defaults.headers.common.Authorization="",localStorage.removeItem("token");const t={username:this.username,password:this.password};console.log("axios query"),await O.Z.post("/api/v1/token/login/",t).then((t=>{const e=t.data.auth_token;this.$store.commit("setToken",e),O.Z.defaults.headers.common.Authorization="Token "+e,localStorage.setItem("token",e);const s=this.$route.query.to||"/cart";this.$router.push(s)})).catch((t=>{if(t.response){for(const e in t.response.data)this.errors.push(`${e}: ${t.response.data[e]}`);console.log(JSON.stringify(t.response.data))}else t.message&&(this.errors.push("Something went wrong . Please try again"),console.log(JSON.stringify(t)))})),console.log("axios query is done ")}}};const Fe=(0,D.Z)(Ze,[["render",Ae]]);var je=Fe;const Ne={class:"page-my-account"},Ve={class:"columns is-multiline"},Me=(0,r._)("div",{class:"column"},[(0,r._)("h1",{class:"title"},"My Account")],-1),Re={class:"column is-12"},Ye=(0,r._)("hr",null,null,-1),He={class:"column is-12"},We=(0,r._)("h2",{class:"subtitle"},"My orders",-1);function Ee(t,e,s,o,a,n){const i=(0,r.up)("order-summary");return(0,r.wg)(),(0,r.iD)("div",Ne,[(0,r._)("div",Ve,[Me,(0,r._)("div",Re,[(0,r._)("button",{onClick:e[0]||(e[0]=t=>n.logout()),class:"button is-danger"},"Log Out")]),Ye,(0,r._)("div",He,[We,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.orders,(t=>((0,r.wg)(),(0,r.j4)(i,{key:t.id,order:t},null,8,["order"])))),128))])])])}const Ke={class:"is-size-4 mb-6"},Je=(0,r._)("h4",{class:"is-size-5"},"Products",-1),Qe={class:"table is-fullwidth"},Be=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Product"),(0,r._)("th",null,"Price"),(0,r._)("th",null,"Quantity"),(0,r._)("th",null,"Total")])],-1);function Ge(t,e,s,o,n,i){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",Ke,"Order #"+(0,a.zw)(s.order.id),1),Je,(0,r._)("table",Qe,[Be,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.order.items,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.product.id},[(0,r._)("td",null,(0,a.zw)(t.product.name),1),(0,r._)("td",null,"$"+(0,a.zw)(t.product.price),1),(0,r._)("td",null,(0,a.zw)(t.quantity),1),(0,r._)("td",null,"$"+(0,a.zw)(i.getItemTotal(t).toFixed(2)),1)])))),128))])])],64)}var Xe={name:"OrderSummary",props:{order:Object},methods:{getItemTotal(t){return t.quantity*t.product.price},orderTotalLength(t){return t.items.reduce(((t,e)=>t+e.quantity),0)}}};const ts=(0,D.Z)(Xe,[["render",Ge]]);var es=ts,ss={name:"MyAccountView",components:{OrderSummary:es},data(){return{orders:[]}},mounted(){this.getMyOrders()},methods:{logout(){O.Z.defaults.headers.Authorized="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),this.$store.commit("removeToken"),this.$router.push("/")},async getMyOrders(){this.$store.commit("setIsLoading",!0),await O.Z.get("/api/v1/orders").then((t=>{this.orders=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const os=(0,D.Z)(ss,[["render",Ee]]);var rs=os;const as={class:"page-checkout"},ns=(0,r._)("div",{class:"columns is-multiline"},[(0,r._)("div",{class:"column is-12"},[(0,r._)("h1",{class:"title"},"Checkout")])],-1),is={class:"column is-12"},ls={class:"table is-fullwidth"},cs=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Product"),(0,r._)("th",null,"Price"),(0,r._)("th",null,"Quantity"),(0,r._)("th",null,"Totla")])],-1),us=(0,r._)("th",{colspan:"2"},"Total",-1),ds={class:"column is-12"},ms=(0,r._)("h2",{class:"subtitle"},"Shiping Detail",-1),ps=(0,r._)("p",{class:"has-text-grey mb-4"},"* All Fields Are Required",-1),hs={class:"columns is-multiline"},gs={class:"column is-6"},_s={class:"field"},vs=(0,r._)("label",null,"First Name*",-1),fs={class:"control"},ys={class:"field"},ws=(0,r._)("label",null,"Last Name*",-1),bs={class:"control"},ks={class:"field"},Ss=(0,r._)("label",null,"Email*",-1),qs={class:"control"},Cs={class:"column is-6"},Ts={class:"field"},Is=(0,r._)("label",null,"Phone*",-1),Ls={class:"control"},Ps={class:"field"},zs=(0,r._)("label",null,"Address*",-1),Os={class:"control"},$s={class:"field"},Ds=(0,r._)("label",null,"Place*",-1),Us={class:"control"},xs={class:"column is-12"},As={key:0,class:"notification is-danger mt-4"},Zs=(0,r._)("hr",null,null,-1);function Fs(t,e,s,n,i,l){return(0,r.wg)(),(0,r.iD)("div",as,[ns,(0,r._)("div",is,[(0,r._)("table",ls,[cs,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.cart.items,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.product.id},[(0,r._)("th",null,(0,a.zw)(t.product.name),1),(0,r._)("th",null,"Rwf"+(0,a.zw)(t.product.price),1),(0,r._)("th",null,(0,a.zw)(t.quantity),1),(0,r._)("th",null,(0,a.zw)(l.getItemTotal(t).toFixed(2)),1)])))),128))]),(0,r._)("tfoot",null,[(0,r._)("tr",null,[us,(0,r._)("th",null,(0,a.zw)(l.cartTotalLength),1),(0,r._)("th",null,(0,a.zw)(l.cartTotalPrice),1)])])])]),(0,r._)("div",ds,[ms,ps,(0,r._)("div",hs,[(0,r._)("div",gs,[(0,r._)("div",_s,[vs,(0,r._)("div",fs,[(0,r.wy)((0,r._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>i.first_name=t)},null,512),[[o.nr,i.first_name]])])]),(0,r._)("div",ys,[ws,(0,r._)("div",bs,[(0,r.wy)((0,r._)("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>i.last_name=t)},null,512),[[o.nr,i.last_name]])])]),(0,r._)("div",ks,[Ss,(0,r._)("div",qs,[(0,r.wy)((0,r._)("input",{type:"email",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>i.email=t)},null,512),[[o.nr,i.email]])])])]),(0,r._)("div",Cs,[(0,r._)("div",Ts,[Is,(0,r._)("div",Ls,[(0,r.wy)((0,r._)("input",{type:"tel",class:"input","onUpdate:modelValue":e[3]||(e[3]=t=>i.phone=t)},null,512),[[o.nr,i.phone]])])]),(0,r._)("div",Ps,[zs,(0,r._)("div",Os,[(0,r.wy)((0,r._)("input",{type:"text",class:"input","onUpdate:modelValue":e[4]||(e[4]=t=>i.address=t)},null,512),[[o.nr,i.address]])])]),(0,r._)("div",$s,[Ds,(0,r._)("div",Us,[(0,r.wy)((0,r._)("input",{type:"text",class:"input","onUpdate:modelValue":e[5]||(e[5]=t=>i.place=t)},null,512),[[o.nr,i.place]])])])]),(0,r._)("div",xs,[i.errors.length?((0,r.wg)(),(0,r.iD)("div",As,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.errors,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t},(0,a.zw)(t),1)))),128))])):(0,r.kq)("",!0),Zs,l.cartTotalLength?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("button",{class:"button is-dark m-3",onClick:e[6]||(e[6]=t=>l.submitForm("e-pay"))},"Online Payment"),(0,r._)("button",{class:"button is-dark m-3",onClick:e[7]||(e[7]=t=>l.submitForm("order"))},"Place Order Pay On Delivery")],64)):(0,r.kq)("",!0)])])])])}var js={name:"Checkout",data(){return{cart:{items:[]},token:"",first_name:"",last_name:"",email:"",phone:"",address:"",place:"",errors:[]}},mounted(){this.cart=this.$store.state.cart,this.token=this.$store.state.token},computed:{cartTotalLength(){return this.cart.items.reduce(((t,e)=>t+e.quantity),0)},cartTotalPrice(){return this.cart.items.reduce(((t,e)=>t+e.product.price*e.quantity),0)}},methods:{removeFromCart(t){this.cart.items=this.cart.items.filter((e=>e.product.id!==t.product.id))},getItemTotal(t){return t.quantity*t.product.price},submitForm(t){this.errors=[],"e-pay"===t&&this.errors.push("Sorry !! Online payment is not available !"),""===this.first_name&&this.errors.push("First Name is required !"),""===this.last_name&&this.errors.push("Last Name is required !"),""===this.email&&this.errors.push("Email is required !"),""===this.phone&&this.errors.push("Phone number is required !"),""===this.address&&this.errors.push("Address is required !"),""===this.place&&this.errors.push("Place is required !"),this.errors.length||(this.$store.commit("setIsLoading",!0),this.processOrder())},async processOrder(){const t=[];for(let s=0;s<this.cart.items.length;s++){const e=this.cart.items[s],o={product:e.product.id,quantity:e.quantity,price:e.product.price*e.quantity};t.push(o)}console.log(t);const e={first_name:this.first_name,last_name:this.last_name,email:this.email,address:this.address,place:this.place,phone:this.phone,items:t};console.log("data to send"),console.log(e.items),await O.Z.post("/api/v1/checkout/",e).then((t=>{this.$store.commit("clearCart"),this.$router.push("/cart/success")})).catch((t=>{this.errors.push("Error while processing order ! Try Again !"),console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const Ns=(0,D.Z)(js,[["render",Fs]]);var Vs=Ns;const Ms={class:"page-success"},Rs=(0,r._)("div",{class:"columns is-multiline"},[(0,r._)("h1",{class:"title"},"Thank You"),(0,r._)("br"),(0,r._)("p",null,"Your order will be processed within 48 hours")],-1),Ys=[Rs];function Hs(t,e,s,o,a,n){return(0,r.wg)(),(0,r.iD)("div",Ms,Ys)}var Ws={name:"SuccessView",mounded(){document.title="ShipShop: Success"}};const Es=(0,D.Z)(Ws,[["render",Hs]]);var Ks=Es,Js=s(65),Qs=(0,Js.MT)({state:{cart:{items:[]},isAuthenticated:!1,token:"",isLoading:!1},getters:{},mutations:{initializeStore(t){localStorage.getItem("cart")?t.cart=JSON.parse(localStorage.getItem("cart")):localStorage.setItem("cart",JSON.stringify(t.cart)),localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.token="",t.isAuthenticated=!1)},setIsLoading(t,e){t.isLoading=e},addToCart(t,e){const s=t.cart.items.filter((t=>t.product.id===e.product.id));s.length?s[0].quantity=parseInt(s[0].quantity)+parseInt(e.quantity):t.cart.items.push(e),localStorage.setItem("cart",JSON.stringify(t.cart))},setToken(t,e){t.token=e,t.isAuthenticated=!0},removeToken(t){t.token="",t.isAuthenticated=!1},clearCart(t){t.cart={items:[]},localStorage.setItem("cart",JSON.stringify(t.cart))}},actions:{},modules:{}});const Bs=[{path:"/",name:"home",component:et},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,7381))},{path:"/sign-up",name:"sign-up",component:be},{path:"/log-in",name:"log-in",component:je},{path:"/my-account",name:"my-account",component:rs,meta:{requireLogin:!0}},{path:"/cart/checkout",name:"checkout",component:Vs,meta:{requireLogin:!0}},{path:"/cart/success",name:"success",component:Ks,meta:{requireLogin:!0}},{path:"/search",name:"search",component:At},,{path:"/cart",name:"cart",component:te},{path:"/:category_slug/:product_slug",name:"product",component:ft},{path:"/:category_slug",name:"category",component:Tt}],Gs=(0,A.p7)({history:(0,A.r5)(),routes:Bs});Gs.beforeEach(((t,e,s)=>{t.matched.some((t=>t.meta.requireLogin))&&!Qs.state.isAuthenticated?s({name:"log-in",query:{to:path}}):s()}));var Xs=Gs,to=s(3494),eo=s(7749),so=s(8539);O.Z.defaults.baseURL="https://shipshop.pythonanywhere.com/",to.vI.add(so.BC0,so.yYj,so.wn1,so.N7g),(0,o.ri)(x).component("font-awesome-icon",eo.GN).use(Qs).use(Xs,O.Z).mount("#app")}},e={};function s(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,r,a){if(!o){var n=1/0;for(u=0;u<t.length;u++){o=t[u][0],r=t[u][1],a=t[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(i=!1,a<n&&(n=a));if(i){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[o,r,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,o){return s.f[o](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/about.65926ebb.js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="shipshop-ux:";s.l=function(o,r,a,n){if(t[o])t[o].push(r);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+a){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",e+a),i.src=o),t[o]=[r];var m=function(e,s){i.onerror=i.onload=null,clearTimeout(p);var r=t[o];if(delete t[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(t){return t(s)})),e)return e(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,o){var r=s.o(t,e)?t[e]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(s,o){r=t[e]=[s,o]}));o.push(r[2]=a);var n=s.p+s.u(e),i=new Error,l=function(o){if(s.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",i.name="ChunkLoadError",i.type=a,i.request=n,r[1](i)}};s.l(n,l,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,a,n=o[0],i=o[1],l=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var u=l(s)}for(e&&e(o);c<n.length;c++)a=n[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},o=self["webpackChunkshipshop_ux"]=self["webpackChunkshipshop_ux"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(4640)}));o=s.O(o)})();
//# sourceMappingURL=app.04ffd27d.js.map
{"ast":null,"code":"import axios from 'axios';\nimport ProductsList from '@/components/ProductsList.vue';\nimport { toast } from 'bulma-toast';\nexport default {\n  name: 'SearchView',\n  components: {\n    ProductsList\n  },\n  data() {\n    return {\n      products: [],\n      query: ''\n    };\n  },\n  mounted() {\n    document.title = 'ShipShop: Search ';\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n    console.log(params);\n    if (params.get('q')) {\n      console.log(params.get('q'));\n      this.query = params.get('q');\n      this.perfomrSearch();\n    }\n  },\n  methods: {\n    async perfomrSearch() {\n      this.$store.commit('setIsLoading', true);\n      await axios.post('/api/v1/products/search/', {\n        query: this.query\n      }).then(response => {\n        this.products = response.data;\n      }).catch(error => {\n        console.log(error);\n        toast({\n          message: 'An Error Occured !',\n          type: 'error',\n          position: 'bottom-right',\n          duration: 2000,\n          dismissible: true,\n          pauseOnHover: true\n        });\n      });\n      this.$store.commit('setIsLoading', false);\n    }\n  }\n};","map":{"version":3,"names":["axios","ProductsList","toast","name","components","data","products","query","mounted","document","title","uri","window","location","search","substring","params","URLSearchParams","console","log","get","perfomrSearch","methods","$store","commit","post","then","response","catch","error","message","type","position","duration","dismissible","pauseOnHover"],"sources":["/home/osboxes/0dir/shipshop-ux/src/views/SearchView.vue"],"sourcesContent":["<template>\n    <div class=\"page-search\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">\n                    Search\n                </h1>\n                <h2 class=\"is-size-5 has-text-grey\">\n                    Search Term : \"{{ query }}\"\n\n                </h2>\n                <h3 class=\"is-size-4 hast-text-black\"\n                    v-if=\"products.length===0\"\n                >\n                    No Result For {{ query }}\n                </h3>\n            </div>\n\n\n            <products-list\n                v-for=\"product in products\"\n                v-bind:key=\"product.id\"\n                v-bind:product=\"product\"\n            >\n            </products-list>\n\n        </div>\n\n    </div>\n</template>\n\n<script>\n\n    import axios from 'axios'\n    import ProductsList from '@/components/ProductsList.vue'\nimport { toast } from 'bulma-toast'\n\n    export default{\n        name: 'SearchView',\n        components:{\n            ProductsList\n        },  \n        data(){\n            return{\n                products:[],\n                query:''\n            }\n        },mounted(){\n            document.title='ShipShop: Search '\n\n            let uri=window.location.search.substring(1)\n            let params=new URLSearchParams(uri)\n\n            console.log(params)\n\n            if(params.get('q')){\n                console.log(params.get('q'))\n                this.query=params.get('q')\n\n                this.perfomrSearch()\n            }\n        },\n        methods:{\n            async perfomrSearch(){\n                \n                this.$store.commit('setIsLoading',true)\n\n                await axios\n                    .post('/api/v1/products/search/',{query:this.query})\n                    .then(response=>{\n                        this.products=response.data\n                    })\n                    .catch(error=>{\n                        console.log(error)\n                        toast({\n                            message:'An Error Occured !',\n                            type:'error',\n                            position:'bottom-right',\n                            duration: 2000,\n                            dismissible:true,\n                            pauseOnHover:true\n                        })\n                    })\n\n                this.$store.commit('setIsLoading',false)\n            }\n        }\n    }\n</script>"],"mappings":"AAiCI,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,YAAW,MAAO,+BAA8B;AAC3D,SAASC,KAAI,QAAS,aAAY;AAE9B,eAAc;EACVC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAC;IACPH;EACJ,CAAC;EACDI,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,QAAQ,EAAC,EAAE;MACXC,KAAK,EAAC;IACV;EACJ,CAAC;EAACC,OAAOA,CAAA,EAAE;IACPC,QAAQ,CAACC,KAAK,GAAC,mBAAkB;IAEjC,IAAIC,GAAG,GAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACC,SAAS,CAAC,CAAC;IAC1C,IAAIC,MAAM,GAAC,IAAIC,eAAe,CAACN,GAAG;IAElCO,OAAO,CAACC,GAAG,CAACH,MAAM;IAElB,IAAGA,MAAM,CAACI,GAAG,CAAC,GAAG,CAAC,EAAC;MACfF,OAAO,CAACC,GAAG,CAACH,MAAM,CAACI,GAAG,CAAC,GAAG,CAAC;MAC3B,IAAI,CAACb,KAAK,GAACS,MAAM,CAACI,GAAG,CAAC,GAAG;MAEzB,IAAI,CAACC,aAAa,EAAC;IACvB;EACJ,CAAC;EACDC,OAAO,EAAC;IACJ,MAAMD,aAAaA,CAAA,EAAE;MAEjB,IAAI,CAACE,MAAM,CAACC,MAAM,CAAC,cAAc,EAAC,IAAI;MAEtC,MAAMxB,KAAI,CACLyB,IAAI,CAAC,0BAA0B,EAAC;QAAClB,KAAK,EAAC,IAAI,CAACA;MAAK,CAAC,EAClDmB,IAAI,CAACC,QAAQ,IAAE;QACZ,IAAI,CAACrB,QAAQ,GAACqB,QAAQ,CAACtB,IAAG;MAC9B,CAAC,EACAuB,KAAK,CAACC,KAAK,IAAE;QACVX,OAAO,CAACC,GAAG,CAACU,KAAK;QACjB3B,KAAK,CAAC;UACF4B,OAAO,EAAC,oBAAoB;UAC5BC,IAAI,EAAC,OAAO;UACZC,QAAQ,EAAC,cAAc;UACvBC,QAAQ,EAAE,IAAI;UACdC,WAAW,EAAC,IAAI;UAChBC,YAAY,EAAC;QACjB,CAAC;MACL,CAAC;MAEL,IAAI,CAACZ,MAAM,CAACC,MAAM,CAAC,cAAc,EAAC,KAAK;IAC3C;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
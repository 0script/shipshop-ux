{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { toast } from 'bulma-toast';\nexport default {\n  name: 'LogInView',\n  data() {\n    return {\n      username: '',\n      password: '',\n      password2: '',\n      errors: []\n    };\n  },\n  methods: {\n    submitForm() {\n      this.errors = [];\n      if (this.username === '') {\n        this.errors.push('The username is missing !');\n      }\n      if (this.password === '') {\n        this.errors.push('The password is missing !');\n      }\n      if (!this.errors.length) {\n        const formData = {\n          username: this.username,\n          password: this.password\n        };\n        axios.post('/api/v1/users/', formData).then(response => {\n          toast({\n            message: 'Account created with success!',\n            type: 'is-success',\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: 'bottom-right'\n          });\n          this.$router.push('/log-in');\n        }).catch(error => {\n          if (error.response) {\n            for (const property in error.response.data) {\n              this.errors.push(`${property}: ${error.response.data[property]}`);\n            }\n            console.log(JSON.stringify(error.response.data));\n          } else if (error.message) {\n            this.error.push('Something went wrong . Please try again');\n            console.log(JSON.stringify(error));\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","toast","name","data","username","password","password2","errors","methods","submitForm","push","length","formData","post","then","response","message","type","dismissible","pauseOnHover","duration","position","$router","catch","error","property","console","log","JSON","stringify"],"sources":["/home/osboxes/0dir/shipshop/shipshop-ux/src/views/LogInView.vue"],"sourcesContent":["<template>\n    <div class=\"page-sign-up\">\n        <div class=\"columns\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">Log In</h1>\n                <form @submit.prevent=\"submitForm\">\n                    \n                    <div class=\"field\">\n                        <label for=\"\">UserName</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"username\" />\n\n                        </div>\n                    </div>\n                    <div class=\"fields\">\n                        <label>Password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password\">\n                        </div>\n                    </div>\n\n                    <div class=\"notificatino is-danger\" v-if=\"errors.length\">\n                        <p \n                            v-for=\"error in errors\"\n                            v-bind:key=\"error\"\n                        >\n                            {{ error }}\n                        </p>\n                    </div>\n\n                    <div class=\"field\">\n                        <div class=\"control\">\n                            <button class=\"button is-dark mt-3\">Log In</button>\n                        </div>\n                    </div>\n\n                    <hr />\n                        <p class=\"bd-footer-tsp\">\n                            You don't have an account <router-link to=\"/sign-up\">Sign Up</router-link> \n                        </p>\n                         \n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import axios from 'axios'\n    import { toast } from 'bulma-toast'\n\n\n    export default{\n        name:'LogInView',\n        data(){\n            return{\n                username:'',\n                password:'',\n                password2:'',\n                errors:[]\n            }\n        },\n        methods:{\n            submitForm(){\n                this.errors=[]\n\n                if(this.username===''){\n                    this.errors.push('The username is missing !')\n                }\n\n                if(this.password===''){\n                    this.errors.push('The password is missing !')\n                }\n\n                if(!this.errors.length){\n                    const formData={\n                        username:this.username,\n                        password:this.password\n                    }\n\n                    axios\n                        .post('/api/v1/users/',formData)\n                        .then(response=>{\n                            toast({\n                                message:'Account created with success!',\n                                type:'is-success',\n                                dismissible:true,\n                                pauseOnHover:true,\n                                duration:2000,\n                                position:'bottom-right'\n                            })\n\n                            this.$router.push('/log-in')\n                        })\n                        .catch(error=>{\n\n                            if(error.response){\n\n                                for(const property in error.response.data){\n                                    this.errors.push(`${property}: ${error.response.data[property]}`)\n                                }\n\n                                console.log(JSON.stringify(error.response.data))\n                            }else if(error.message){\n                                this.error.push('Something went wrong . Please try again')\n                                \n                                console.log(JSON.stringify(error))\n                            }\n                        })\n                }\n\n            }\n        }\n\n    }\n</script>"],"mappings":";AAiDI,OAAOA,KAAI,MAAO,OAAM;AACxB,SAASC,KAAI,QAAS,aAAY;AAGlC,eAAc;EACVC,IAAI,EAAC,WAAW;EAChBC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,QAAQ,EAAC,EAAE;MACXC,QAAQ,EAAC,EAAE;MACXC,SAAS,EAAC,EAAE;MACZC,MAAM,EAAC;IACX;EACJ,CAAC;EACDC,OAAO,EAAC;IACJC,UAAUA,CAAA,EAAE;MACR,IAAI,CAACF,MAAM,GAAC,EAAC;MAEb,IAAG,IAAI,CAACH,QAAQ,KAAG,EAAE,EAAC;QAClB,IAAI,CAACG,MAAM,CAACG,IAAI,CAAC,2BAA2B;MAChD;MAEA,IAAG,IAAI,CAACL,QAAQ,KAAG,EAAE,EAAC;QAClB,IAAI,CAACE,MAAM,CAACG,IAAI,CAAC,2BAA2B;MAChD;MAEA,IAAG,CAAC,IAAI,CAACH,MAAM,CAACI,MAAM,EAAC;QACnB,MAAMC,QAAQ,GAAC;UACXR,QAAQ,EAAC,IAAI,CAACA,QAAQ;UACtBC,QAAQ,EAAC,IAAI,CAACA;QAClB;QAEAL,KAAI,CACCa,IAAI,CAAC,gBAAgB,EAACD,QAAQ,EAC9BE,IAAI,CAACC,QAAQ,IAAE;UACZd,KAAK,CAAC;YACFe,OAAO,EAAC,+BAA+B;YACvCC,IAAI,EAAC,YAAY;YACjBC,WAAW,EAAC,IAAI;YAChBC,YAAY,EAAC,IAAI;YACjBC,QAAQ,EAAC,IAAI;YACbC,QAAQ,EAAC;UACb,CAAC;UAED,IAAI,CAACC,OAAO,CAACZ,IAAI,CAAC,SAAS;QAC/B,CAAC,EACAa,KAAK,CAACC,KAAK,IAAE;UAEV,IAAGA,KAAK,CAACT,QAAQ,EAAC;YAEd,KAAI,MAAMU,QAAO,IAAKD,KAAK,CAACT,QAAQ,CAACZ,IAAI,EAAC;cACtC,IAAI,CAACI,MAAM,CAACG,IAAI,CAAE,GAAEe,QAAS,KAAID,KAAK,CAACT,QAAQ,CAACZ,IAAI,CAACsB,QAAQ,CAAE,EAAC;YACpE;YAEAC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACL,KAAK,CAACT,QAAQ,CAACZ,IAAI,CAAC;UACnD,CAAC,MAAK,IAAGqB,KAAK,CAACR,OAAO,EAAC;YACnB,IAAI,CAACQ,KAAK,CAACd,IAAI,CAAC,yCAAyC;YAEzDgB,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACL,KAAK,CAAC;UACrC;QACJ,CAAC;MACT;IAEJ;EACJ;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}